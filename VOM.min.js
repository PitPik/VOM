/*! VOM - v0.1.0 2017-01-14 */

!function(a,b){"object"==typeof exports?module.exports=b(a):"function"==typeof define&&define.amd?define("VOM",[],function(){return b(a)}):a.VOM=b(a)}(this,function(a){"use strict";function b(a,c){for(var d=c.length;d--;)c[d].childNodes&&b(a,c[d].childNodes),delete o[c[d][a.idProperty]];return c}function c(a,b){return(b.parentNode?d(b.parentNode):a.model).indexOf(b)}function d(a){return a.childNodes=a.childNodes||[],a.childNodes}function e(a,b,c,e){return b.parentNode?a.options.parentCheck&&g(a,b,c):h([b],a,c),b.parentNode===c&&e>b.index&&b.index!==-1&&e--,b=b.index!==-1&&b.parentNode&&f(a,b,!0)||b,d(c).splice(e||0,0,b),b.parentNode=c,b}function f(a,b,c){return!c&&delete o[b[a.options.idProperty]],d(b.parentNode).splice(b.index,1)[0]||b}function g(a,b,c){var d=c;for(b===c&&l("ERROR: can't move element inside itself",a.options);d=d.parentNode;)d===b&&l("ERROR: can't move parent inside it's own child",a.options)}function h(a,b,c){for(var d=(b.options,!1),e=b.options.idProperty,f={},g=0,j=a.length;g<j;g++)f=a[g],d=!f.parentNode,f[e]||(f[e]=p++),o[f[e]]=f,f.parentNode=c||b.model.root,f.childNodes&&h(f.childNodes,b,f),f.index=0,d&&(f=i(b,f)),b.options.enrichModelCallback.call(b,f);return a}function i(a,b){var c={};for(var d in b)(a.options.enhanceMap[d]||d===a.options.idProperty||"parentNode"===d||d===q)&&(c[d]=b[d],j(d,b,c,a,q));return b}function j(a,b,d,e,f){return Object.defineProperty(b,a,{get:function(){return a===f?c(e,b):d[a]},set:function(c,g){g=d[a],d[a]=c,k(a,b,c,g,d,e,f)}})}function k(a,b,c,d,e,f,g){(a===f.options.idProperty||a===g||f.options.setterCallback.call(f,a,b,c,d))&&(e[a]=d,l("ERROR: Cannot set property '"+a+"' to '"+c+"'",f.options))}function l(b,c){if(!c.throwErrors&&"undefined"!=typeof a&&a.console)return console.warn?console.warn(b):console.log(b);throw b}var m=function(a,b){this.options={parentCheck:!1,idProperty:"id",setterCallback:function(){},enrichModelCallback:function(){},enhanceMap:[],throwErrors:!1},this.model=a||[],n(this,b||{})},n=function(a,b){var c="",d=[];for(var e in b)a.options[e]=b[e];for(d=a.options.enhanceMap;c=d.shift();)d[c]=!0;a.model.root={childNodes:a.model},h(a.model,a)},o={},p=0,q="index";return m.prototype={getElementById:function(a){return o[a]},getElementsByProperty:function(a,b){var c=[];for(var d in o)o[d][a]!==b&&null!==b||c.push(o[d]);return c},insetBefore:function(a,b){return e(this,a,b.parentNode,b.index)},insetAfter:function(a,b){return e(this,a,b.parentNode,b.index+1)},appendChild:function(a,b){return b=b||_this.model.root,e(this,a,b,d(b).length)},prependChild:function(a,b){return e(this,a,b||_this.model.root,0)},removeChild:function(a){return f(this,a)},destroy:function(){return b(this.options,this.model)}},m});
//# sourceMappingURL=VOM.js.map